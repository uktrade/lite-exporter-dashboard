# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

->          /common                                                   common.Routes

# Application list
GET         /                                                         controllers.ApplicationListController.index
GET         /applications                                             controllers.ApplicationListController.applicationList(tab ?= null, sort ?= null, direction ?=null, company ?= null, show ?= null, page: Integer ?= null)

# Application tabs
GET         /application/*appId/status-tracker                        controllers.StatusTabController.showStatusTab(appId)
GET         /application/*appId/rfi                                   controllers.RfiTabController.showRfiTab(appId)
GET         /application/*appId/rfi/*rfiId                            controllers.RfiTabController.showReplyForm(appId, rfiId)
POST        /application/*appId/rfi                                   controllers.RfiTabController.submitReply(appId)
POST        /application/*appId/rfi/file/*fileId                      controllers.RfiTabController.deleteFileById(appId, fileId)
GET         /application/*appId/amend-application                     controllers.AmendTabController.showAmendTab(appId, action ?= null)
POST        /application/*appId/amend-application                     controllers.AmendTabController.submitAmendment(appId)
POST        /application/*appId/amend-application/file/*fileId        controllers.AmendTabController.deleteFileById(appId, fileId)
GET         /application/*appId/outcome-documents                     controllers.OutcomeTabController.showOutcomeTab(appId)
GET         /application/*appId                                       controllers.StatusTabController.showStatusTab(appId)

# Licences tabs
GET         /licences                                                 controllers.LicenceListController.licenceList(tab ?= null, sort ?= null, direction ?=null, page: Integer ?= null)

# Licence details
GET         /licence/ogel/*registrationReference                      controllers.LicenceListController.ogelDetails(registrationReference)
GET         /licence/siel/*registrationReference                      controllers.LicenceListController.sielDetails(registrationReference)

# Test data
GET         /test                                                     controllers.TestDataController.insertDefaultTestData()
GET         /test/                                                    controllers.TestDataController.insertDefaultTestData()
GET         /test/*testType                                           controllers.TestDataController.insertTestData(testType)

POST        /upload/accept/*draftType/*relatedId                      controllers.UploadController.submitFiles(draftType, relatedId)
POST        /upload/delete                                            controllers.UploadController.deleteFile()

GET         /files/rfi/*rfiId/*fileId                                 controllers.DownloadController.getRfiFile(rfiId,fileId)
GET         /files/amend/*appId/*fileId                               controllers.DownloadController.getAmendmentFile(appId,fileId)
GET         /files/withdraw/*appId/*fileId                            controllers.DownloadController.getWithdrawalFile(appId,fileId)

# Map static resources from the /public folder to the /assets URL path
GET         /assets/*file                                             controllers.Assets.versioned(path="/public", file: Asset)

# NOCSRF
POST        /samlResponse                                             org.pac4j.play.CallbackController.callback()
GET         /logout                                                   org.pac4j.play.ApplicationLogoutController.logout()
GET         /logged-out                                               controllers.AuthorisationController.loggedOut()
GET         /unauthorised                                             controllers.AuthorisationController.unauthorised()