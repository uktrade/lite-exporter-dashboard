@import models.view.{AddRfiResponseView, RfiView}
@import play.data.Form
@import template._

@(rfiViews: java.util.List[RfiView], allowResponses: Boolean, rfiResponseForm: Form[_], addRfiResponseView: AddRfiResponseView)

@for(rfiView <- rfiViews) {
  @rfiPanel(rfiView, allowResponses)
  @if(flash.containsKey(rfiView.getRfiId)) {
    <div class="form-group form-group-error">
      <span class="error-message">@flash.get(rfiView.getRfiId)</span>
    </div>
  }
  @if(addRfiResponseView != null && addRfiResponseView.getRfiId == rfiView.getRfiId) {
    @addRfiReplyPanel(rfiView.getAppId, rfiResponseForm, addRfiResponseView)
  }
  @if(rfiView.getRfiResponseView != null) {
    @rfiReplyPanel(rfiView.getRfiResponseView)
  }
}
