@import licenceListTabs._
@import models.enums.LicenceListTab
@import models.view.LicenceListView
@import template._

@this(dashboardTopNav: dashboardTopNav)
@(licenceListView: LicenceListView)

@standardPage("Licences", Some(Html("Export licence application management")), hideBackLink = true, twoThirdsColumn = false) {

} {

  @dashboardTopNav()

  <div class="heading-medium dashboard-section-heading">Licences</div>

  @if(licenceListView.isHasSiels && !licenceListView.isHasOgels) {
    <p>
  <h3 class="heading-small">Standard Individual Export Licences</h3>
    </p>
  }

  @if(!licenceListView.isHasSiels && licenceListView.isHasOgels) {
    <p>
  <h3 class="heading-small">Open General Export Licences</h3>
    </p>
  }

  @if(licenceListView.isHasSiels && licenceListView.isHasOgels) {
    @tabs("licences-tabs", size = "large", width = "wide") {
      @tab("SIELs", licenceListView.getRoute.setLicenceListTab(LicenceListTab.SIELS).toString, licenceListView.getLicenceListTab == LicenceListTab.SIELS)
      @tab("OGELs", licenceListView.getRoute.setLicenceListTab(LicenceListTab.OGELS).toString, licenceListView.getLicenceListTab == LicenceListTab.OGELS)
    }
  }

  @if(!licenceListView.isHasSiels && !licenceListView.isHasOgels) {
    You have no licences.
  }

  @if(licenceListView.getLicenceListTab == LicenceListTab.SIELS && licenceListView.isHasSiels) {
    @sielList(licenceListView)
  }

  @if(licenceListView.getLicenceListTab == LicenceListTab.OGELS && licenceListView.isHasOgels) {
    @ogelList(licenceListView)
  }

}
