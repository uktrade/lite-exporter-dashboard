@import models.view.ApplicationListView
@import page._
@(activeTab: String, applicationListView: ApplicationListView)

<div class="scrollable-table">
  <table class="table-font-xsmall table-align-top">
    <thead>
      <tr>
        <th nowrap>
          <a href="@routes.Application.applicationList(Option(activeTab),
            Option(applicationListView.getNextDateSortDirection),
            Option.empty,
            Option(applicationListView.getStatusTypeFilter.toString.toLowerCase),
            Option(applicationListView.getCompanyId),
            Option(applicationListView.getCurrentPage))">
            Date submitted
          </a>
          <span class="sort-arrow">
          @applicationListView.getDateSortDirection match {
            case "asc" => {&# 9651}
            case "desc" => {&# 9661}
            case default => {}
          }</span>
        </th>
        <th>
          References
        </th>
        <th>
          <a href="@routes.Application.applicationList(Option(activeTab),
            Option.empty,
            Option(applicationListView.getNextStatusSortDirection),
            Option(applicationListView.getStatusTypeFilter.toString.toLowerCase),
            Option(applicationListView.getCompanyId),
            Option(applicationListView.getCurrentPage))">
            Application status
          </a>
          <span class="sort-arrow">
          @applicationListView.getStatusSortDirection match {
            case "asc" => {&# 9651}
            case "desc" => {&# 9661}
            case default => {}
          }</span>
        </th>
        <th>
          Destination
        </th>
      </tr>
    </thead>
    <tbody>
    @for(applicationItemView <- applicationListView.getApplicationItemViews) {
      <tr>
        <th scope="row">
        @applicationItemView.getDateSubmitted
        </th>
        <td>
          <a href="@routes.LicenseApplicationController.statusTab(applicationItemView.getAppId)" class="bold">
          @applicationItemView.getAppId
          </a>
          <br>
          @applicationItemView.getCaseDescription
        </td>
        <td>
          <p>
            @applicationItemView.getApplicationStatus
          <br>
          @applicationItemView.getApplicationStatusDate
          </p>
          @if(applicationItemView.getOpenRfiId != null){
            @rfiLabel (routes.LicenseApplicationController.rfiTab (applicationItemView.getAppId).withFragment (applicationItemView.getOpenRfiId).toString)
          }
        </td>
        <td>
        @applicationItemView.getDestination
        </td>
      </tr>
    }
    </tbody>
  </table>
</div>
