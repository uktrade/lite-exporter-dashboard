@import licenceApplicationTabs._
@import models.view.{RfiView, StatusItemView}
@import page._
@import play.data.Form
@import util._
@import java.util

@(applicationRef: String, activeTab: String, statusItemViews: util.List[StatusItemView], rfiViewCount: Integer, rfiViews: util.List[RfiView], rfiResponseForm: Form[_])
@standardPage(applicationRef + " - Export licence application", Some(Html("Export licence application management")), hideBackLink = true, twoThirdsColumn = false) {

} {

  @dashboardTopNav()

  @applicationSummaryPanel(
    applicationRef,
    "Purchase order: GB93862929 Some export name",
    "Netherlands",
    "26 Jun 2017",
    "Licensing unit processing",
    "Jerry McGuire"
  )

  @tabs("application-tabs", size = "large", fitToPage = true) {
    @tab("Status tracker", "/application/" + applicationRef + "/status-tracker#application-tabs", activeTab.equals("statusTracker"))
    @tab(s"Requests for information ($rfiViewCount)", "/application/" + applicationRef + "/rfi#application-tabs", activeTab.equals("rfi"))
    @tab("Amend application", "/application/" + applicationRef + "/amend-application#application-tabs", activeTab.equals("amend"))
    @tab("Outcome documents", "/application/" + applicationRef + "/outcome-documents#application-tabs", activeTab.equals("outcomeDocs"))
  }

  @activeTab match {
    case "statusTracker" => {
      @statusTracker(statusItemViews)
    }
    case "rfi" => {
      @rfiList(rfiViews, rfiResponseForm)
    }
    case "amend" => {
      @amendApplication(applicationRef)
    }
    case "outcomeDocs" => {
      @outcomeDocs()
    }
  }
}